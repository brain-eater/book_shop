{"ast":null,"code":"import _regeneratorRuntime from \"/Users/tilakpur/projects/react/server-react/hello/react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/tilakpur/projects/react/server-react/hello/react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/tilakpur/projects/react/server-react/hello/react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tilakpur/projects/react/server-react/hello/react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tilakpur/projects/react/server-react/hello/react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tilakpur/projects/react/server-react/hello/react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tilakpur/projects/react/server-react/hello/react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/tilakpur/projects/react/server-react/hello/react-app/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\n\nfunction MessageBox(props) {\n  return React.createElement(\"input\", {\n    type: \"textbox\",\n    onChange: props.onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 5\n    },\n    __self: this\n  });\n}\n\nvar ChatBox =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChatBox, _Component);\n\n  function ChatBox(props) {\n    var _this;\n\n    _classCallCheck(this, ChatBox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChatBox).call(this, props));\n    _this.onSubmit = props.onSubmit;\n    _this.state = {\n      msgText: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(ChatBox, [{\n    key: \"handleOnMessageBoxChange\",\n    value: function handleOnMessageBoxChange(ev) {\n      this.setState({\n        msgText: ev.currentTarget.value\n      });\n    }\n  }, {\n    key: \"onSubmitButtonClicked\",\n    value: function onSubmitButtonClicked() {\n      this.onSubmit(this.state.msgText);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }, React.createElement(MessageBox, {\n        onChange: this.handleOnMessageBoxChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.onSubmitButtonClicked.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27\n        },\n        __self: this\n      }, \"Submit\"));\n    }\n  }]);\n\n  return ChatBox;\n}(Component);\n\nfunction ReplyMsg(props) {\n  return React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, props.text);\n}\n\nvar App =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(App, _Component2);\n\n  function App(props) {\n    var _this2;\n\n    _classCallCheck(this, App);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this2.state = {\n      replyMsg: \"Ganesh\"\n    };\n    return _this2;\n  }\n\n  _createClass(App, [{\n    key: \"handleOnSubmit\",\n    value: function () {\n      var _handleOnSubmit = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(text) {\n        var response, replyMsg;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"/msg\", {\n                  method: \"POST\",\n                  body: text\n                });\n\n              case 2:\n                response = _context.sent;\n                replyMsg = response.text();\n                this.setState({\n                  replyMsg: text\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function handleOnSubmit(_x) {\n        return _handleOnSubmit.apply(this, arguments);\n      }\n\n      return handleOnSubmit;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(ChatBox, {\n        onSubmit: this.handleOnSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(ReplyMsg, {\n        text: this.state.replyMsg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/tilakpur/projects/react/server-react/hello/react-app/src/App.js"],"names":["React","Component","MessageBox","props","onChange","ChatBox","onSubmit","state","msgText","ev","setState","currentTarget","value","handleOnMessageBoxChange","bind","onSubmitButtonClicked","ReplyMsg","text","App","replyMsg","fetch","method","body","response","handleOnSubmit"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;AACzB,SAAO;AAAO,IAAA,IAAI,EAAC,SAAZ;AAAsB,IAAA,QAAQ,EAAEA,KAAK,CAACC,QAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD;;IAEKC,O;;;;;AACJ,mBAAYF,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,iFAAMA,KAAN;AACA,UAAKG,QAAL,GAAgBH,KAAK,CAACG,QAAtB;AACA,UAAKC,KAAL,GAAa;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAb;AAHiB;AAIlB;;;;6CAEwBC,E,EAAI;AAC3B,WAAKC,QAAL,CAAc;AAAEF,QAAAA,OAAO,EAAEC,EAAE,CAACE,aAAH,CAAiBC;AAA5B,OAAd;AACD;;;4CAEuB;AACtB,WAAKN,QAAL,CAAc,KAAKC,KAAL,CAAWC,OAAzB;AACD;;;6BAEQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAY,QAAA,QAAQ,EAAE,KAAKK,wBAAL,CAA8BC,IAA9B,CAAmC,IAAnC,CAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAQ,QAAA,OAAO,EAAE,KAAKC,qBAAL,CAA2BD,IAA3B,CAAgC,IAAhC,CAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF,CADF;AAMD;;;;EAtBmBb,S;;AAyBtB,SAASe,QAAT,CAAkBb,KAAlB,EAAyB;AACvB,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,KAAK,CAACc,IAAV,CAAP;AACD;;IAEKC,G;;;;;AACJ,eAAYf,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8EAAMA,KAAN;AACA,WAAKI,KAAL,GAAa;AAAEY,MAAAA,QAAQ,EAAE;AAAZ,KAAb;AAFiB;AAGlB;;;;;;;gDAEoBF,I;;;;;;;uBACEG,KAAK,CAAC,MAAD,EAAS;AAAEC,kBAAAA,MAAM,EAAE,MAAV;AAAkBC,kBAAAA,IAAI,EAAEL;AAAxB,iBAAT,C;;;AAAtBM,gBAAAA,Q;AACAJ,gBAAAA,Q,GAAWI,QAAQ,CAACN,IAAT,E;AACf,qBAAKP,QAAL,CAAc;AAAES,kBAAAA,QAAQ,EAAEF;AAAZ,iBAAd;;;;;;;;;;;;;;;;;;6BAGO;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAS,QAAA,QAAQ,EAAE,KAAKO,cAAL,CAAoBV,IAApB,CAAyB,IAAzB,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAE,KAAKP,KAAL,CAAWY,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF;AAMD;;;;EAnBelB,S;;AAsBlB,eAAeiB,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\n\nfunction MessageBox(props) {\n  return <input type=\"textbox\" onChange={props.onChange} />;\n}\n\nclass ChatBox extends Component {\n  constructor(props) {\n    super(props);\n    this.onSubmit = props.onSubmit;\n    this.state = { msgText: \"\" };\n  }\n\n  handleOnMessageBoxChange(ev) {\n    this.setState({ msgText: ev.currentTarget.value });\n  }\n\n  onSubmitButtonClicked() {\n    this.onSubmit(this.state.msgText);\n  }\n\n  render() {\n    return (\n      <div>\n        <MessageBox onChange={this.handleOnMessageBoxChange.bind(this)} />\n        <button onClick={this.onSubmitButtonClicked.bind(this)}>Submit</button>\n      </div>\n    );\n  }\n}\n\nfunction ReplyMsg(props) {\n  return <p>{props.text}</p>;\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { replyMsg: \"Ganesh\" };\n  }\n\n  async handleOnSubmit(text) {\n    let response = await fetch(\"/msg\", { method: \"POST\", body: text });\n    let replyMsg = response.text();\n    this.setState({ replyMsg: text });\n  }\n\n  render() {\n    return (\n      <div>\n        <ChatBox onSubmit={this.handleOnSubmit.bind(this)} />\n        <ReplyMsg text={this.state.replyMsg} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}